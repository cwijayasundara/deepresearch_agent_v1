# Cloud Scheduler job configuration
#
# Deploy with:
#   gcloud scheduler jobs create http deep-research-daily-trigger \
#     --location=us-central1 \
#     --schedule="0 6 * * *" \
#     --time-zone="America/Chicago" \
#     --uri="https://us-central1-run.googleapis.com/apis/run.googleapis.com/v1/namespaces/PROJECT_ID/jobs/deep-research-daily-job:run" \
#     --http-method=POST \
#     --oauth-service-account-email=deep-research-scheduler-sa@PROJECT_ID.iam.gserviceaccount.com

apiVersion: cloud.google.com/v1
kind: Scheduler
metadata:
  name: deep-research-daily-trigger
spec:
  schedule: "0 6 * * *"
  timeZone: America/Chicago
  description: "Trigger deep research daily job at 6 AM CT"
  httpTarget:
    uri: https://us-central1-run.googleapis.com/apis/run.googleapis.com/v1/namespaces/PROJECT_ID/jobs/deep-research-daily-job:run
    httpMethod: POST
    oauthToken:
      serviceAccountEmail: deep-research-scheduler-sa@PROJECT_ID.iam.gserviceaccount.com
  retryConfig:
    retryCount: 2
    minBackoffDuration: 30s
    maxBackoffDuration: 120s
    maxDoublings: 2
